$(document).ready(function(){const i=[{name:"Heo",path:"/usr/themes/HarmonyHues/assets/emoji/Heo",list:{"3dyanjing":"3D眼镜",lpl:"LPL加油",aoye:"熬夜",baozha:"爆炸",buhaoyisi:"不好意思",qinqin:"亲亲",sanbing:"伞兵",yiqiangxiao:"倚墙笑",toutoukan:"偷偷看",zaijian:"再见",chujiaren:"出家人",jiaban:"加班",mianqiangxiao:"勉强笑",weixian:"危险",fahongbao:"发红包",chishou:"吃手",chigua:"吃瓜",tuxie:"吐血",chaojia:"吵架",youhou:"呦吼",ziyaxiao:"呲牙笑",hashiqi:"哈士奇",hashiqishiquyishi:"哈士 奇失去意识",hashiqishiwang:"哈士奇失望",kuqi:"哭泣",changge:"唱歌",xihuan:"喜欢",heiha:"嘿哈",daxiao:"大笑",shiwang:"失望",toutu:"头秃",fendou:"奋斗",haoqi:"好奇",haode:"好的",haixiu:"害羞",xiaochou:"小丑",xiaotou:"小偷",ganga:"尴尬",yingyuan:"应援",kaixin:"开心",yinqibushi:"引起不适",weixiao:"微笑",sikao:"思考",exin:"恶心",jingxia:"惊吓",jingya:"惊讶",gandong:"感动",fennu:"愤怒",wokanhaoni:"我看好你",shoujixiangji:"手机相机",damie:"打咩",dapai:"打牌",tuosai:"托腮",fue:"扶额",koubi:"抠鼻",taiyanjing:"抬眼镜",wuzuixiao:"捂嘴笑",wulian:"捂脸",cahan:"擦汗",doujiyan:"斗鸡眼",zhihuideyanshen:"智慧的眼神",yuebing:"月饼",youmeiyougaocuo:"有没有搞错",leiben:"泪奔",shensi:"深思",huaji:"滑稽",huajiheshui:"滑稽喝水",huajinaicha:"滑稽奶茶",huajiningmeng:"滑稽柠檬",huajikuanghan:"滑稽狂汗",huajibeizi:"滑稽被子",fannao:"烦恼",xiongmao:"熊猫",xiongmaochangge:"熊猫唱歌",xiongmaoxihuan:"熊猫喜欢",xiongmaoshiwang:"熊猫失望",niunianjinbao:"牛年进宝",goutou:"狗头",goutouweibo:"狗头围脖",goutoushiwang:"狗头失望",goutoupangci:"狗头胖次",goutouhua:"狗头花",goutoucao:"狗头草",zhutou:"猪头",shengbing:"生病",dianhua:"电话",yiwen:"疑问",tengtong:"疼痛",kanchuanyiqie:"看穿 一切",xuanyun:"眩晕",shuijiao:"睡觉",jinyan:"禁言",xiaoku:"笑哭",jiujie:"纠结",lvmao:"绿帽",shuaku:"耍酷",huzi:"胡子",caigou:"菜狗",caigouhua:"菜狗花",beida:"被打",liekai:"裂开",songfu:"送福",songhua:"送花",yinxian:"阴险",nanyizhixin:"难以置信",guilian:"鬼脸",heixian:"黑线",guzhang:"鼓掌"}},{name:"GIF",path:"/usr/themes/HarmonyHues/assets/emoji/GIF",list:{gif_1:"熊猫头流泪表情包",gif_2:"向话吗",gif_3:"又关我什么事",gif_4:"很高兴为你服务",gif_5:"你不准玩微信",gif_6:"好了，孩子们",gif_7:"你有点蔡徐坤",gif_8:"蔡徐坤的肯定",gif_9:"这人真棒",gif_10:"蔡徐坤偷听",gif_11:"du瘾发作",gif_12:"甄子丹的嘲笑",gif_13:"原神启动",gif_14:"鲲之蔑视"}}],a=$(".emoji-box"),o=$("#emoji-btn"),n=$("#textarea")[0],e=()=>{const o=$('<ul class="emoji-bar"></ul>'),n=[];i.forEach((i,a)=>{const{name:e,path:t,list:s}=i;o.append(`<li class="d-inline-block p-2" data-type="${e}" data-index="${a}">${e}</li>`);const u=$('<ul class="emoji-dropdown scroll-cover p-2"></ul>').attr("data-type",e),g=Object.entries(s).map(([i,a])=>"GIF"===e?`<li class="emoji-item p-2" data-text="" data-type="${e}"><img class="gif-img lazy" data-original="${t}/${i}.webp" alt="${a}" title="${a}"></li>`:`<li class="emoji-item p-2" data-text="${i}" data-type="${e}"><img class="lazy" data-original="${t}/${i}.webp" alt="${a}" title="${a}"></li>`);u.append(g.join("")),n.push(u)}),a.append(n).append(o),a.find(".emoji-dropdown").hide().first().show()},t=(i,a)=>{const o=i.selectionStart,n=i.selectionEnd,e=i.value.substring(0,o),t=i.value.substring(n,i.value.length),s=a;i.value=e+s+t,i.selectionStart=i.selectionEnd=o+s.length,$(i).trigger("change"),i.focus()};o.on("click",function(i){i.stopPropagation(),0===a.find(".emoji-bar").length&&(e(),a.find(".emoji-bar > li").first().addClass("emoji-active")),$(this).parent().toggleClass("active"),$(this).next(".emoji-box").fadeToggle(),$(".emoji-item img.lazy").lazyload({effect:"fadeIn",threshold:200,load:function(){$(this).addClass("loaded")}}),$(".emoji-item img.lazy").trigger("appear")}),a.on("click",".emoji-item",function(i){i.stopPropagation();const a=$(this).attr("data-text"),e=$(this).attr("data-type");let s=`:(owo=${a})`;if("GIF"===e){const i=$(this).find("img").attr("alt"),a=$(this).find("img").attr("src");s=`![${i}](${a})`}t(n,s),o.parent().removeClass("active"),$(this).closest(".emoji-box").fadeOut()}),a.on("click",".emoji-bar li",function(){const i=$(this).data("type");a.find(".emoji-dropdown").hide(),a.find(`.emoji-dropdown[data-type="${i}"]`).show(),$(this).addClass("emoji-active").siblings().removeClass("emoji-active")}),$(document).on("click",function(i){$(i.target).closest(".emoji-box").length||$(i.target).is("#emoji-btn")||($(".emoji-box").fadeOut(),o.parent().removeClass("active"))})});